(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var d;function f(a){a=["object"==typeof globalThis&&globalThis,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var g=f(this),h=this||self;
function k(a,b){a=a.split(".");var c=h;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)a.length||void 0===b?c[e]&&c[e]!==Object.prototype[e]?c=c[e]:c=c[e]={}:c[e]=b};function l(a,b){this.a=this.D(b);this.o=a;this.g="";this.f=-1;this.m=!1;this.o.classList.add("ac");this.b=document.createElement("input");this.b.setAttribute("type","search");this.a.required&&this.b.setAttribute("required","");this.a.filter||this.b.setAttribute("readonly","");this.b.setAttribute("placeholder",this.a.L);this.o.appendChild(this.b);this.c=document.createElement("div");this.c.style.maxHeight=this.a.G;this.c.classList.add("ac-items");this.o.appendChild(this.c);a={input:this.j,click:this.I,
keydown:this.J,blur:this.H};for(var c in a)this.b.addEventListener(c,a[c].bind(this));this.c.addEventListener("mousedown",this.K.bind(this))}d=l.prototype;d.j=function(){this.g=this.b.value.toLowerCase();m(this);if(this.a.u||!(this.g.length<this.a.A||this.c.childElementCount))this.filter().map(this.s,this),this.a.j(this.g)};
d.s=function(a){var b=this,c=document.createElement("div");c.innerHTML=this.a.l?this.l(a[this.a.i]):a[this.a.i];c.setAttribute("data-value",this.a.h.findIndex(function(e){return e[b.a.i]==a[b.a.i]}));c.addEventListener("click",this.F.bind(this));this.c.appendChild(c)};d.filter=function(){var a=this;return this.a.h.filter(function(b){return-1!=b[a.a.C].toLowerCase().indexOf(a.g)||!a.a.filter})};
d.l=function(a){var b=a.toLowerCase().indexOf(this.g),c=document.createElement("span");c.innerHTML=a.slice(b,b+this.g.length);return a.slice(0,b)+c.outerHTML+a.slice(b+this.g.length,a.length)};d.F=function(a){a=a.target.getAttribute("data-value");var b=this.a.h[a];this.b.value=b[this.a.i];this.g=this.b.value.toLowerCase();this.m=!1;m(this);this.a.B(b[this.a.w],b,a)};d.I=function(){if(this.c.childElementCount)return m(this);this.a.u&&!this.g?this.a.h.map(this.s,this):this.j(null)};
d.J=function(a){var b=this.c.childNodes;-1!=[40,38,13,27].indexOf(a.keyCode)&&a.preventDefault();switch(a.keyCode){case 40:-1==this.f&&this.j(null);this.f++;n(this,b);break;case 38:this.f--;n(this,b);break;case 13:-1!=this.f?b[this.f].click():(this.a.v?this.b.value.length>=this.a.A&&this.a.B(this.b.value,void 0,-1):1==this.c.childElementCount&&b[0].click(),m(this));break;case 27:m(this)}};d.H=function(){this.m||m(this)};d.K=function(){this.m=!0};
function n(a,b){if(b.length){for(var c=0,e=b.length;c<e;c++)b[c].classList.remove("ac-active");a.f=0>a.f?b.length-1:a.f>b.length-1?0:a.f;b[a.f].classList.add("ac-active");b[a.f].scrollIntoView()}}function m(a){for(a.f=-1;a.c.firstChild;)a.c.removeChild(a.c.firstChild)}
d.D=function(a){return{filter:!1!==a.filter,required:a.required||!1,L:a.prompt||"",u:a.open||!1,l:a.highlight||!0,v:a.custom||!1,G:a.maxHeight||"500px",A:a.minChars||3,i:a.label||"text",C:a.search||"text",w:a.field||"text",h:a.data||[],j:a.onInput||function(){},B:a.onSelect||function(){}}};
g.Object.defineProperties(l.prototype,{value:{configurable:!0,enumerable:!0,set:function(a){this.b.value=a;this.g=a.toLowerCase()},get:function(){var a=this,b=this.a.h.findIndex(function(c){return c[a.a.i].toLowerCase()==a.g});return-1!=b?this.a.h[b][this.a.w]:this.a.v?this.b.value:null}},data:{configurable:!0,enumerable:!0,set:function(a){this.a.h=a;this.a.C!=this.a.i&&(this.a.l=!1)}},input:{configurable:!0,enumerable:!0,get:function(){return this.b}},cpl:{configurable:!0,enumerable:!0,get:function(){return this.c}}});
k("AutoComplete",l);l.prototype.setOptions=l.prototype.D;k("DEBUG",!0);}).call(this);
